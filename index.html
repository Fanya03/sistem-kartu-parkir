<!DOCTYPE html>
<html lang="id">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Aplikasi Kartu Parkir Kampus</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
        <link rel="stylesheet" href="style.css" />
    </head>
<body>

<!-- LOGIN FORM -->
<div class="login-container" id="loginForm">
    <h2 class="text-center mb-4">Login</h2>
    <div class="text-danger mb-2" id="loginError"></div>
    <div class="form-group">
        <input type="text" id="username" class="form-control" placeholder="Username" />
    </div>
    <div class="form-group">
        <input type="password" id="password" class="form-control" placeholder="Password" />
    </div>
    <div class="form-group form-check">
        <input type="checkbox" class="form-check-input" id="showPasswordCheck" onclick="togglePasswordVisibility()" />
        <label class="form-check-label" for="showPasswordCheck">Tampilkan Password</label>
    </div>
    <button class="btn btn-primary btn-block" onclick="login()">Masuk</button>
</div>

<!-- DASHBOARD -->
<div class="dashboard hidden" id="dashboard" >
    <div class="sidebar">
        <h3>Menu</h3>
        <button class="sidebar-btn" onclick="showForm('mainForm')">Pembuatan Kartu Parkir</button>
        <button class="sidebar-btn" onclick="showForm('lostForm')" id="lostFormBtn">Pembuatan Kartu Parkir Rusak/Hilang</button>
        <button class="sidebar-btn" onclick="showForm('tableContainer')" id="dataKartuBtn">Data Kartu Parkir</button>
        <button class="sidebar-btn logout-btn" onclick="logout()">Logout</button>
    </div>
    <div class="content">
        <h2>Selamat Datang, <span id="userRole"></span>!</h2>

        <!-- FORM INPUT UTAMA -->
        <div class="form-container hidden" id="mainForm">
            <h2 class="mb-3">Form Pembuatan Kartu Parkir Baru</h2>
            <div class="form-group">
                <input type="text" id="nama" class="form-control" placeholder="Nama Lengkap" />
            </div>
            <div class="form-group">
                <input type="text" id="npm" class="form-control" placeholder="NPM" />
            </div>
            <div class="form-group">
                <input type="text" id="prodi" class="form-control" placeholder="Program Studi" />
            </div>
            <div class="form-group">
                <select id="tahun" class="form-control">
                    <option value="">Pilih Tahun Ajaran</option>
                    <option value="2020">2020</option>
                    <option value="2021">2021</option>
                    <option value="2022">2022</option>
                    <option value="2023">2023</option>
                    <option value="2024">2024</option>
                    <option value="2025">2025</option>
                </select>
            </div>
            <div class="form-group">
                <input type="text" id="telepon" class="form-control" placeholder="Nomor Telepon" />
            </div>
            <div class="form-group">
                <select id="jenis" class="form-control">
                    <option value="">Pilih Jenis Kendaraan</option>
                    <option value="Motor">Motor</option>
                    <option value="Mobil">Mobil</option>
                </select>
            </div>
            <div class="form-group">
                <input type="text" id="plat" class="form-control" placeholder="Plat Nomor" />
            </div>
            <button class="btn btn-primary mr-2" onclick="buatKartu()">Buat Kartu</button>
        </div>        

        <!-- FORM RUSAK/HILANG -->
        <div class="form-container hidden" id="lostForm">
            <h2 class="mb-3">Form Pembuatan Kartu Parkir Rusak/Hilang</h2>
            <div class="form-group">
                <input type="text" id="namaLagi" class="form-control" placeholder="Nama Lengkap" />
            </div>
            <div class="form-group">
                <input type="text" id="npmLagi" class="form-control" placeholder="NPM" />
            </div>
            <div class="form-group">
                <select id="jenisLagi" class="form-control">
                    <option value="">Pilih Jenis Kendaraan</option>
                    <option value="Motor">Motor</option>
                    <option value="Mobil">Mobil</option>
                </select>
            </div>
            <div class="form-group">
                <input type="text" id="platLagi" class="form-control" placeholder="Plat Nomor" />
            </div>
            <button class="btn btn-primary mr-2" onclick="buatKartuRusak()">Buat Kartu Pengganti</button>
            <p class="note mt-3">Note: Pengambilan kartu dikenakan biaya Rp. 50.000</p>
        </div>

        <!-- KARTU PARKIR -->
        <div class="card-container hidden" id="cardContainer">
            <h2>Kartu Parkir Kampus</h2>
            <div class="card p-3 bg-light rounded mt-3">
                <p><strong>Nama:</strong> <span id="outputNama"></span></p>
                <p><strong>NPM:</strong> <span id="outputNPM"></span></p>
                <p><strong>Program Studi:</strong> <span id="outputProdi"></span></p>
                <p><strong>Tahun Ajaran:</strong> <span id="outputTahun"></span></p>
                <p><strong>Nomor Telepon:</strong> <span id="outputTelepon"></span></p>
                <p><strong>Plat Nomor:</strong> <span id="outputPlat"></span></p>
                <p><strong>Jenis Kendaraan:</strong> <span id="outputJenis"></span></p>
                <p id="cardNote" class="note"></p>
                <button class="btn btn-secondary mt-3" id="printCardBtn" onclick="printCard()" disabled>Cetak Kartu</button>
            </div>            
        </div>

        <!-- TABLE DATA -->
        <div class="table-container hidden" id="tableContainer">
            <h3>Data Kartu Parkir</h3>
            <div class="table-responsive">
                <table class="table table-bordered mt-3" id="dataTable">
                    <thead class="thead-dark">
                        <tr>
                            <th>Tanggal</th>
                            <th>Nama</th>
                            <th>NPM</th>
                            <th>Program Studi</th>
                            <th>Tahun Ajaran</th>
                            <th>Nomor Telepon</th>
                            <th>Plat Nomor</th>
                            <th>Jenis</th>
                            <th>Status</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script src="script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>